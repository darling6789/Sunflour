<div class="m-jewelry-background"></div>
<div class="m-jewelry-builder">
    <div class="m-jewelry-builder-side">
        <div class="m-jewelry-builder-image">
        </div>

        <div class="m-jewelry-builder-des">
            <div class="m-jewelry-builder-video">
                {% if section.settings.widget_video %}
                {% assign poster_url = '' %}
                {% if section.settings.widget_image %}
                {% comment %} Use https: to avoid protocol-relative edge cases {% endcomment %}
                {% assign poster_url = 'https:' | append: section.settings.widget_image | image_url: width: 1600 %}
                {% endif %}

                {{ section.settings.widget_video | video_tag:
                    autoplay: true,
                    loop: true,
                    muted: true,
                    controls: false,
                    playsinline: true,
                    poster: poster_url
                    }}
                {% elsif section.settings.widget_image %}
                    <img
                    src="{{ section.settings.widget_image | image_url: width: 1600 }}"
                    alt=""
                    loading="lazy"
                    width="1600"
                    height="auto">
                {% endif %}
            </div>

            <h2>{{ section.settings.title }}</h2>
            <div class="m-jewelry-builder-description">{{ section.settings.description }}</div>
            <div class="m-jewelry-builder-des-btn-group">
                <button onclick="document.location='{{ section.settings.btn_link }}'">{{ section.settings.btn_text }}</button>
                <a href="{{ section.settings.link }}">{{ section.settings.link_text }}</a>
            </div>        
        </div>
    </div>

    <div class="m-jewelry-builder-work">
        <h3>{{ section.settings.work_heading }}</h3>
        <p>{{ section.settings.subheading }}</p>

        <div class="m-jewelry-builder-steps">
            {% for block in section.blocks %}
                <div class="m-jewelry-builder-step">
                    <img src="{{ block.settings.image | img_url: 'master' }}">
                    <h4>{{ block.settings.title }}</h4>
                    <p>{{ block.settings.text }}</p>
                </div>
            {% endfor %}
        </div>
    </div>
</div>

<style>
#shopify-section-{{ section.id }}.m-jewelry-builder-section {
    {% comment %} background: url({{ section.settings.image | img_url: 'master' }}) lightgray -264px -55.477px / 80.556% 128.952% no-repeat; {% endcomment %}
    background: linear-gradient(98deg, rgba(88, 64, 74, 0.00) 8.2%, rgba(88, 64, 74, 0.25) 20.46%, rgba(88, 64, 74, 0.50) 29.22%, #58404A 41.92%);
	width: 100%;
    position: relative;
}
#shopify-section-{{ section.id }}.m-jewelry-builder-section .m-jewelry-background {
    position: absolute;
    width: 50%;
    height: 100%;
    display: block !important;
    background-image: url(//www.marcrobinsonjewelers.com/cdn/shop/files/landing-hero-min.jpg?v=1757073305);
    background-size: cover;
    background-position: center;
    top: 0;
    z-index: -1;
}
#shopify-section-{{ section.id }} .m-jewelry-builder {
	width: 100%;
	display: flex;
	align-items: stretch;
	gap: 40px;
    max-width: 1920px;
    margin: auto;
    justify-content: space-between;
    padding: 0 100px;
}
.m-jewelry-builder-side {
    width: calc(70% - 40px);
    display: flex;
    gap: 40px;
    align-items: center;
    padding: 0;
    justify-content: space-between;

}
#shopify-section-{{ section.id }} .m-jewelry-builder-des {
	width: calc(50% - 40px);
	max-width: 430px;
    text-align: center;
}
#shopify-section-{{ section.id }} .m-jewelry-builder-des .m-jewelry-builder-video {
    width: 100%;
    margin-bottom: 75px;
}
#shopify-section-{{ section.id }} .m-jewelry-builder-des .m-jewelry-builder-video video {
    width: 100%;
}
#shopify-section-{{ section.id }} .m-jewelry-builder-des .m-jewelry-builder-video img {
    width: 100%;
}
#shopify-section-{{ section.id }} .m-jewelry-builder-des h2 {
	color: {{ section.settings.text_color }};
	font-family: Legitima;
	font-size: 44px;
	font-style: normal;
	font-weight: 500;
	line-height: 100%; /* 44px */
	margin: 0;
	margin-bottom: 30px;
}
#shopify-section-{{ section.id }} .m-jewelry-builder-description p {
	color: {{ section.settings.text_color }};
	font-family: Montserrat;
	font-size: 16px;
	font-style: normal;
	font-weight: 400;
	line-height: 140%; /* 22.4px */
	margin: 0;
	margin-bottom: 30px;
}
#shopify-section-{{ section.id }} .m-jewelry-builder-des-btn-group {
    max-width: 275px;
    margin: auto;
}
#shopify-section-{{ section.id }} .m-jewelry-builder-des button {
	outline: none;
	border-radius: 1.6px;
	border: var(--stroke-weight-1, 1px) solid {{ section.settings.text_color }};
	padding: 12.48px 17px 13.52px 17px;
	color: {{ section.settings.text_color }};
	text-align: center;
	font-family: var(--font-family-Font-2, Montserrat);
	font-size: 15.4px;
	font-style: normal;
	font-weight: var(--font-weight-500, 500);
	line-height: 23px; /* 149.351% */
	margin-bottom: 7px;
    width: 275px;
    background: transparent;
    cursor: pointer;
}
#shopify-section-{{ section.id }} .m-jewelry-builder-des-btn-group a {
	display: block;
	text-decoration: none;
	text-align: center;
	color: {{ section.settings.text_color }};
	text-align: center;
	font-family: var(--font-family-Font-2, Montserrat);
	font-size: 15.4px;
	font-style: normal;
	font-weight: var(--font-weight-500, 500);
	line-height: 150%;
	text-decoration-line: underline;
	text-decoration-style: solid;
	text-decoration-skip-ink: auto;
	text-decoration-thickness: auto;
	text-underline-offset: auto;
	text-underline-position: from-font;
}
#shopify-section-{{ section.id }} .m-jewelry-builder-image {
	width: 50%;
	max-width: 500px;
	line-height: 0;
	display: flex !important;
	align-items: center;
	justify-content: center;
    height: 100%;
    opacity: 0;
}
#shopify-section-{{ section.id }} .m-jewelry-builder-image img {
	width: 100%;
	display: block;
	margin: auto;
    height: 100%;
    object-fit: cover;
}
#shopify-section-{{ section.id }} .m-jewelry-builder-collection {
	flex: 1;
    width: 30%;
}
#shopify-section-{{ section.id }} .m-jewelry-builder-collection>h3 {
	color: #333;
	font-family: Legitima;
	font-size: 34px;
	font-style: italic;
	font-weight: 500;
	line-height: 140%; /* 47.6px */
	margin: 0;
	margin-bottom: 10px;
}
.m-jewelry-builder-work {
	width: 30%;
	flex: 1;
	padding: 27px 40px;
	text-align: center;
    background: #fff;
    max-width: 407px;
}
.m-jewelry-builder-work>h3 {
	color: #2E2E2E;
	text-align: center;

	/* Heading/Medium */
	font-family: Legitima;
	font-size: 34px;
	font-style: normal;
	font-weight: 500;
	line-height: 140%; /* 47.6px */
	opacity: 0.8;
	margin: 0;
}
.m-jewelry-builder-work>p {
	color: #878787;
	text-align: center;
	font-family: Montserrat;
	font-size: 18px;
	font-style: normal;
	font-weight: 600;
	line-height: 140%; /* 25.2px */
	margin: 0;
	margin-bottom: 20px;
}
.m-jewelry-builder-steps {
	margin: auto;
	max-width: 210px;
	display: grid;
	gap: 10px;
}
.m-jewelry-builder-step {

}
.m-jewelry-builder-step img {
	display: block;
	width: 100%;
	height: auto;
	margin-bottom: 5px;
}
.m-jewelry-builder-step h4 {
	color: var(--Darker-Accent, #69575F);
	text-align: center;
	font-family: Montserrat;
	font-size: 18px;
	font-style: normal;
	font-weight: 600;
	line-height: 110%; /* 20.494px */
	font-variant: all-small-caps;
	margin: 0;
	margin-bottom: 5px;
}
.m-jewelry-builder-step p {
	color: rgba(21, 21, 21, 0.50);
	text-align: center;
	font-family: Montserrat;
	font-size: 13px;
	font-style: normal;
	font-weight: 600;
	line-height: 110%; /* 15.371px */
	margin: 0;
}

@media only screen and (max-width: 1440px) {
    #shopify-section-{{ section.id }}.m-jewelry-builder-section {
        width: 100%;
        {% comment %} padding: 0 70px; {% endcomment %}
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder {
        width: 100%;
        display: flex;
        align-items: center;
        gap: 40px;
        max-width: unset;
        margin: auto;
        justify-content: space-between;
        padding: 0 50px;
    }
    .m-jewelry-builder-side {
        width: calc(75% - 40px);
        display: flex;
        gap: 40px;
        align-items: center;
        padding: 75px 0;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des {
        width: calc(50% - 40px);
        max-width: 320px;
        text-align: center;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des .m-jewelry-builder-video {
        width: 100%;
        margin-bottom: 75px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des .m-jewelry-builder-video video {
        width: 100%;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des .m-jewelry-builder-video img {
        width: 100%;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des h2 {
        color: {{ section.settings.text_color }};
        font-family: Legitima;
        font-size: 32px;
        font-style: normal;
        font-weight: 500;
        line-height: 100%; /* 44px */
        margin: 0;
        margin-bottom: 0px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-description p {
        color: {{ section.settings.text_color }};
        font-family: Montserrat;
        font-size: 12px;
        line-height: 110%; /* 22.4px */
        margin: 0;
        margin-bottom: 14px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des-btn-group {
        max-width: 200px;
        margin: auto;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des button {
        outline: none;
        border-radius: 0;
        padding: 10px 12px;
        font-size: 14px;
        font-style: normal;
        font-weight: 600;
        line-height: 110%;
        margin-bottom: 7px;
        width: 200px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des-btn-group a {
        font-size: 12px;
        font-weight: 400;
        line-height: 110%; /* 13.2px */
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-image {
        width: 50%;
        max-width: 500px;
    }
    .m-jewelry-builder-work {
        width: 25%;
        flex: 1;
        padding: 30px 50px;
        text-align: center;
        background: #fff;
        max-width: 305px;
    }
    .m-jewelry-builder-work>h3 {
        color: #2E2E2E;
        text-align: center;

        /* Heading/Small */
        font-family: Legitima;
        font-size: 24px;
        font-style: normal;
        font-weight: 500;
        line-height: 110%; /* 26.4px */
        opacity: 0.8;
        margin: 0;
    }
    .m-jewelry-builder-work>p {
        color: #878787;
        text-align: center; 
        /* Caption/Semibold */
        font-family: Montserrat;
        font-size: 12px;
        font-style: normal;
        font-weight: 600;
        line-height: 110%; /* 13.2px */
        margin: 0;
        margin-bottom: 15px;
    }
    .m-jewelry-builder-steps {
        margin: auto;
        max-width: 150px;
        display: grid;
        gap: 9px;
    }
    .m-jewelry-builder-step {

    }
    .m-jewelry-builder-step img {
        display: block;
        width: 100%;
        height: auto;
        margin-bottom: 4px;
    }
    .m-jewelry-builder-step h4 {
        color: var(--Darker-Accent, #69575F);
        text-align: center;
        /* Caption/AllCaps/Semibold */
        font-family: Montserrat;
        font-size: 15px;
        font-style: normal;
        font-weight: 600;
        line-height: 90%; /* 13.5px */
        font-variant: all-small-caps;
        margin: 0;
        margin-bottom: 5px;
    }
    .m-jewelry-builder-step p {
        color: rgba(21, 21, 21, 0.50);
        text-align: center;
        /* Caption/Semibold */
        font-family: Montserrat;
        font-size: 12px;
        font-style: normal;
        font-weight: 600;
        line-height: 110%; /* 13.2px */
        margin: 0;
    }
}

@media only screen and (max-width: 990px) {
    #shopify-section-{{ section.id }}.m-jewelry-builder-section {
        {% comment %} padding: 0 40px; {% endcomment %}
         background: unset;
    }
    #shopify-section-{{ section.id }}.m-jewelry-builder-section .m-jewelry-background {
         display: none !important;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder {
        padding: 0;
        gap: 0px;
        justify-content: space-between;
        flex-wrap: wrap;
        width: 100%;
    }
    .m-jewelry-builder-side {
        width: 100%;
        display: flex;
        gap: 40px;
        align-items: center;
        padding: 75px 0;
        position: relative;
        background: linear-gradient(180deg, rgba(88, 64, 74, 0.10) 8.67%, rgba(88, 64, 74, 0.65) 32.18%, rgba(88, 64, 74, 0.80) 72.64%);
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des {
        width: 100%;
        max-width: unset;
        text-align: center;
        padding: 0 50px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-image {
        display: block !important;
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background-image: url(//www.marcrobinsonjewelers.com/cdn/shop/files/landing-hero-min.jpg?v=1757073305);
        background-size: cover;
        background-position: left;
        max-width: unset;
        opacity: 1;
        z-index: -1;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des .m-jewelry-builder-video {
        width: 100%;
        max-width: 300px;
        margin: auto;
        margin-bottom: 30px;
        margin-right: 0;
    }
    .m-jewelry-builder-work {
        flex: 1;
        padding: 20px;
        text-align: center;
        background: #fff;
        max-width: unset;
        height: 100%;
        width: 100%;
    }
    .m-jewelry-builder-description {
        max-width: 300px;
        margin: auto;
    }
    .m-jewelry-builder-steps {
        margin: auto;
        display: flex    ;
        align-items: flex-start;
        width: 100%;
        max-width: unset;
        gap: 60px;
    }
    .m-jewelry-builder-step {
        width: calc(40% - 40px);
    }
}

@media only screen and (max-width: 749px) {
    #shopify-section-{{ section.id }}.m-jewelry-builder-section {
        padding: 0px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder {
        width: 100%;
        display: flex;
        flex-wrap: wrap;
        gap: 40px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-side {
        width: 100%;
        display: flex;
        gap: 40px;
        align-items: center;
        padding: 60px 20px 40px;
        padding-top: 300px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des {
        width: 100%;
        max-width: unset;
        padding: 0 20px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des h2 {
        font-size: 32px;
        margin-bottom: 30px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-description p {
        font-size: 14px;
        margin-bottom: 30px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des-btn-group {
        max-width: 275px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des button {
        padding: 12px 15px 12px 15px;
        font-size: 14px;
        line-height: 120%;
        margin-bottom: 7px;
        width: 200px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des-btn-group a {
        font-size: 14px;
        line-height: 150%;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-image {
        width: 100%;
        background-position: center;
        {% comment %} max-width: 350px; {% endcomment %}
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-des .m-jewelry-builder-video {
        margin-right: auto;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-work {
        width: 100%;
        padding: 30px 20px 40px;
        max-width: unset;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-work>h3 {
        font-size: 24px;
        opacity: 0.8;
        margin: 0;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-work>p {
        font-size: 16px;
        margin-bottom: 20px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-steps {
        max-width: 300px;
        display: grid;
        gap: 20px;
        margin: auto;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-step {
        width: 100%;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-step img {
        margin-bottom: 5px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-step h4 {
        font-size: 18px;
        margin-bottom: 5px;
    }
    #shopify-section-{{ section.id }} .m-jewelry-builder-step p {
        font-size: 13px;
    }
}
</style>

{% schema %}
{
    "name": "Jewelry ring builder",
    "tag": "section",
    "class": "m-jewelry-builder-section",
    "settings": [
        {
            "type": "color",
            "id": "text_color",
            "label": "Text color",
            "default": "#E7E0EB"
        },
        {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
        },
        {
            "type": "image_picker",
            "id": "widget_image",
            "label": "Widget image"
        },
        {
            "type": "video",
            "id": "widget_video",
            "label": "Widget video (MP4)"
        },
        {
            "type": "text",
            "id": "title",
            "label": "Title"
        },
        {
            "type": "richtext",
            "id": "description",
            "label": "Description"
        },
        {
            "type": "text",
            "id": "btn_text",
            "label": "Button text"
        },
        {
            "type": "url",
            "id": "btn_link",
            "label": "Button link"
        },
        {
            "type": "text",
            "id": "link_text",
            "label": "Link text"
        },
        {
            "type": "url",
            "id": "link",
            "label": "Link"
        },
        {
            "type": "text",
            "label": "Side heading",
            "id": "work_heading"
        },
        {
            "type": "text",
            "id": "subheading",
            "label": "Subheading"
        }
    ],
    "blocks": [
        {
            "type": "step",
            "name": "Step",
            "settings": [
                {
                    "type": "image_picker",
                    "id": "image",
                    "label": "Image"
                },
                {
                    "type": "text",
                    "id": "title",
                    "label": "Title"
                },
                {
                    "type": "text",
                    "id": "text",
                    "label": "Text"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Jewelry ring builder"
        }
    ]
}
{% endschema %}
