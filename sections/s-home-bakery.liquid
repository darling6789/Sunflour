<div class="s-favor-bakery-wrap">
  <div class="s-favor-bakery">
    {% if section.settings.des_left %}
    <div class="s-favor-bakery-block s-favor-bakery-3">
      <div class="s-favor-bakery-3-details-wrap">
        <div class="s-favor-bakery-3-details">
          <h3>{{ section.settings.subheading }}</h3>
          <h2>{{ section.settings.heading }}</h2>
          {{ section.settings.description }}
        </div>

        <a class="s-favor-bakery-3-btn s-btn" href="{{ section.settings.btn_link }}"> {{ section.settings.btn_text }} </a>
      </div>
    </div>    
    {% endif %}  
    
    <div class="s-favor-bakery-left">      
      <div class="s-favor-bakery-slider">
        {% for block in section.blocks %}
        <div class="s-favor-bakery-block">
          <a class="s-favor-bakery-img-link" href="{{ block.settings.link }}">
            <img src="{{ block.settings.image | img_url: 'master' }}" alt="Bakery-{{ forloop.index }}">
          </a>
        </div>
        {% endfor %}
      </div>
    </div>    

    {% unless section.settings.des_left %}
    <div class="s-favor-bakery-block s-favor-bakery-3">
      <div class="s-favor-bakery-3-details-wrap">
        <div class="s-favor-bakery-3-details">
          <h3>{{ section.settings.subheading }}</h3>
          <h2>{{ section.settings.heading }}</h2>
          {{ section.settings.description }}
        </div>

        <a class="s-favor-bakery-3-btn s-btn" href="{{ section.settings.btn_link }}"> {{ section.settings.btn_text }} </a>
      </div>
    </div>
    {% endunless %}
  </div>
</div>

<script>
$('#shopify-section-{{section.id}} .s-favor-bakery-slider').slick({
  slidesToShow: 2,
  slidesToScroll: 1,
  infinite: false,
  speed: 500,
  prevArrow: '.s-favor-bakery-slider-prev',
  nextArrow: '.s-favor-bakery-slider-next',
  dots: false,
  responsive: [
    {
      breakpoint: 1280,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2
      }
    },
    {
      breakpoint: 600,
      settings: {
        slidesToShow: 1.5,
        slidesToScroll: 1.5
      }
    },
    {
      breakpoint: 480,
      settings: {
        slidesToShow: 1.2,
        slidesToScroll: 1.2
      }
    }
  ]
});
</script>

<style>
#shopify-section-{{section.id}}.s-favor-bakery-section {
	width: 100%;
    padding: 30px;
}
#shopify-section-{{section.id}} .s-favor-bakery-wrap {
	width: 100%;
	min-height: 550px;
	height: calc(100vh - 309px);
}
#shopify-section-{{section.id}} .s-favor-bakery {
	height: 100%;
	width: 100%;
	display: flex;
	align-items: stretch;
}
#shopify-section-{{section.id}} .s-favor-bakery-left {
	width: 66%;
	height: 100%;
	display: flex;
	align-items: stretch;
	gap: 15px;
}
#shopify-section-{{section.id}} .s-favor-bakery-block {
    height: 100%;
}
#shopify-section-{{section.id}} .s-favor-bakery-1 {
	height: 100%;
	width: calc(50% - 7.5px);
}
#shopify-section-{{section.id}} .s-favor-bakery-2 {
	height: 100%;
	width: calc(50% - 7.5px);
}  
#shopify-section-{{section.id}} .s-favor-bakery-block>a.s-favor-bakery-img-link {
	display: block;
	height: 100%;
	text-decoration: none;
	overflow: hidden;
	position: relative;
    border-radius: 1rem;
}
#shopify-section-{{section.id}} .s-favor-bakery-block>a.s-favor-bakery-img-link>img {
	position: absolute;
	top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    -o-object-fit: cover;
    object-fit: cover;
}
#shopify-section-{{section.id}} .s-favor-bakery-3 {
	width: 33%;
	height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}
#shopify-section-{{section.id}} .s-favor-bakery-3-details-wrap {
    display: block;
    margin: auto;
}
#shopify-section-{{section.id}} .s-favor-bakery-3-details {
	/* height: 100%; */
	padding: 30px 40px;
    padding-top: 0;
	text-align: center;
}
#shopify-section-{{section.id}} .s-favor-bakery-3-btn {
	margin: auto;
}

@media only screen and (max-width: 1200px) {
  #shopify-section-{{section.id}} .s-favor-bakery-section {
	width: 100%;
  }
  #shopify-section-{{section.id}} .s-favor-bakery-wrap {
  	width: 100%;
  	padding: 20px;
  	min-height: unset;
  	height: unset;
  }
  #shopify-section-{{section.id}} .s-favor-bakery {
  	height: 100%;
  	width: 100%;
  	display: flex;
  	align-items: stretch;
    flex-wrap: wrap;
  }
  #shopify-section-{{section.id}} .s-favor-bakery-left {
  	width: 100%;
  	display: flex;
  	align-items: stretch;
  	gap: 10px;
    min-height: 360px;
  	height: 360px;
  }
  #shopify-section-{{section.id}} .s-favor-bakery-1 {
  	height: 100%;
  	width: calc(50% - 5px);
  }
  #shopify-section-{{section.id}} .s-favor-bakery-2 {
  	height: 100%;
  	width: calc(50% - 5px);
  }  
  #shopify-section-{{section.id}} .s-favor-bakery-block>a.s-favor-bakery-img-link {
  	display: block;
  	height: 100%;
  	text-decoration: none;
  	overflow: hidden;
  	position: relative;
    border-radius: 1rem;
  }
  #shopify-section-{{section.id}} .s-favor-bakery-block>a.s-favor-bakery-img-link>img {
  	position: absolute;
  	top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    -o-object-fit: cover;
    object-fit: cover;
  }
  #shopify-section-{{section.id}} .s-favor-bakery-3 {
  	width: 100%;
  	height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    {% if section.settings.des_left %}
    order: 1;
    {% endif %}  
  }
  #shopify-section-{{section.id}} .s-favor-bakery-3-details-wrap {
      display: block;
      margin: auto;
  }
  #shopify-section-{{section.id}} .s-favor-bakery-3-details {
  	/* height: 100%; */
  	padding: 20px;
    padding-top: 0;
  	text-align: center;
  }
  #shopify-section-{{section.id}} .s-favor-bakery-3-btn {
  	margin: auto;
  }
}

@media only screen and (max-width: 768px) {
  #shopify-section-{{section.id}} .s-favor-bakery-left {
  	gap: 10px;
    min-height: 300px;
  	height: 300px;
  }
  #shopify-section-{{section.id}} .s-favor-bakery-3-details {
  	padding: 0px;
  }
}
</style>

{% schema %}
  {
    "name": "S Favor bakery",
    "class": "s-favor-bakery-section p-width",
    "tag": "section",
    "settings": [
      {
        "type": "checkbox",
        "id": "des_left",
        "label": "Description left"
      },
      {
        "type": "text",
        "id": "subheading",
        "label": "Subheading"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading"
      },
      {
        "type": "richtext",
        "id": "description",
        "label": "Description"
      },
      {
        "type": "text",
        "id": "btn_text",
        "label": "Button text"
      },
      {
        "type": "url",
        "id": "btn_link",
        "label": "Button link"
      }
    ],
    "blocks": [
      {
        "type": "bakery",
        "name": "Bakery",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Image link"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "S Favor bakery"
      }
    ]
  }
{% endschema %}
