<div class="s-image-text p-width p-m-width">
  <div class="s-image-text-image">
    <img src="{{ section.settings.image | img_url: 'master' }}">
  </div>

  <div class="s-image-text-text">
    <div class="s-image-text-text-body">
      <h2>{{ section.settings.heading }}</h2>
      <p>{{ section.settings.text }}</p>
      {% if section.settings.btn_text != blank %}
        <a href="{{ section.settings.btn_link }}" class="s-btn">{{ section.settings.btn_text }}</a>  
      {% endif %}  
    </div>    
  </div>
</div>

<style>
#shopify-section-{{section.id}}.s-image-text-section {
  width: 100%;
  padding: 60px 30px;
  background-color: {{section.settings.back_color}};
}
#shopify-section-{{section.id}} .s-image-text {
  display: flex;
  width: 100%;
  align-items: center;
}
#shopify-section-{{section.id}} .s-image-text-image {
  {% unless section.settings.image_left %}
    order: 1;
  {% endunless %}  
  width: 50%;
  height: 32vw;
  overflow: hidden;
  position: relative;
  border-radius: 1rem;
}
#shopify-section-{{section.id}} .s-image-text-image img {
  width: 100%;
  height: 100%;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  object-fit: cover;
}
#shopify-section-{{section.id}} .s-image-text-text {
  width: 50%;
}
#shopify-section-{{section.id}} .s-image-text-text-body {
  width: 60%;
  margin: auto;
}
#shopify-section-{{section.id}} .s-image-text-text h2 {
  
}
#shopify-section-{{section.id}} .s-image-text-text p {
  
}
#shopify-section-{{section.id}} .s-image-text-text a.s-btn {
  
}

@media only screen and (max-width: 768px) {
  #shopify-section-{{section.id}}.s-image-text-section {
    width: 100%;
    padding: 20px;
  }
  #shopify-section-{{section.id}} .s-image-text {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
  }
  #shopify-section-{{section.id}} .s-image-text-image {
    width: 100%;
    height: 60vw;
    overflow: hidden;
    position: relative;
    border-radius: 1rem;
  }
  #shopify-section-{{section.id}} .s-image-text-image img {
  }
  #shopify-section-{{section.id}} .s-image-text-text {
    width: 100%;
  }
  #shopify-section-{{section.id}} .s-image-text-text-body {
    width: 100%;
    max-width: 400px;
    margin: auto;
  }
  #shopify-section-{{section.id}} .s-image-text-text h2 {
    
  }
  #shopify-section-{{section.id}} .s-image-text-text p {
    
  }
  #shopify-section-{{section.id}} .s-image-text-text a.s-btn {
    
  }  
}

</style>

{% schema %}
  {
    "name": "S image text",
    "class": "s-image-text-section",
    "tag": "section",
    "settings": [
      {
        "type": "checkbox",
        "id": "image_left",
        "label": "Left image"
      },
      {
        "type": "color",
        "id": "back_color",
        "label": "Background color",
        "default": "#fff"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "text"
      },
      {
        "type": "textarea",
        "id": "text",
        "label": "Text"
      },
      {
        "type": "text",
        "id": "btn_text",
        "label": "Button text"
      },
      {
        "type": "url",
        "id": "btn_link",
        "label": "Button link"
      }
    ],
    "presets": [
      {
        "name": "S image text"
      }
    ]
  }
{% endschema %}
