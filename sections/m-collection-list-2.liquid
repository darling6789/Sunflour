<div class="m-collection-list">
    <h2>{{ section.settings.heading }}</h2>

    <div class="m-collection-list-slider-wrap">
        <div class="m-collection-list-slider-left">{% render 'icon-left-arrow' %}</div>
        <div class="m-collection-list-slider">
            {% for block in section.blocks %}
                <div class="m-collection-list-item" onclick="document.location='{% if block.settings.link == blank %}{{ block.settings.collection.url }}{% else %}{{ block.settings.link }}{% endif %}';">
                    <div class="m-collection-list-item-image" style="{% if block.settings.image == blank %}background-image: url({{ block.settings.collection.featured_image | img_url: 'medium' }}); {% else %}background-image:url({{ block.settings.image | img_url: 'medium' }});{% endif %}"></div>
                    <h4>{% if block.settings.title == blank %}{{ block.settings.collection.title }}{% else %}{{ block.settings.title }}{% endif %}</h4>
                </div>
            {% endfor %}
        </div>
        <div class="m-collection-list-slider-right">{% render 'icon-right-arrow' %}</div>
    </div>
</div>

<style>
#shopify-section-{{ section.id }}.m-collection-list-section {
    width: 100%;
    padding: 50px 50px;
    background-color: {{ section.settings.back_color }};
}
#shopify-section-{{ section.id }} .m-collection-list {

}
#shopify-section-{{ section.id }} .m-collection-list>h2 {
    color: {{ section.settings.heading_color }};
    font-family: var(--font-family-Font-4, Legitima);
    font-size: 34px;
    font-style: normal;
    font-weight: var(--font-weight-500, 500);
    line-height: var(--line-height-31_86, 31.86px);
    margin: 0;
    margin-bottom: 20px;
}
#shopify-section-{{ section.id }} .m-collection-list-slider-wrap {
    position: relative;
}
#shopify-section-{{ section.id }} .m-collection-list-slider {

}
#shopify-section-{{ section.id }} .m-collection-list-item {
    padding-right: 12px;
    cursor: pointer;
}
#shopify-section-{{ section.id }} .m-collection-list-item-image {
    display: block !important;
    width: 325px;
    height: 232px;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}
#shopify-section-{{ section.id }} .m-collection-list-item h4 {
    color: {{ section.settings.item_title_color }};
    font-family: Montserrat;
    font-size: 15px;
    font-style: normal;
    font-weight: 400;
    line-height: 160%;
    margin: 0;
    margin-top: 10px;
}
#shopify-section-{{ section.id }} .m-collection-list-slider-left {
    position: absolute;
    left: -25px;
    z-index: 1;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
}
#shopify-section-{{ section.id }} .m-collection-list-slider-right {
    position: absolute;
    right: -25px;
    z-index: 1;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
}

@media only screen and (max-width: 1440px) {
  #shopify-section-{{ section.id }}.m-collection-list-section {
    padding: 20px 37.5px;
  }
  #shopify-section-{{ section.id }} .m-collection-list>h2 {
    font-family: Legitima;
    font-size: 24px;
    font-style: normal;
    font-weight: 500;
    line-height: 110%;
    margin: 0;
    margin-bottom: 6px;
  }
  #shopify-section-{{ section.id }} .m-collection-list>p {
    font-family: Montserrat;
    font-size: 15px;
    font-style: normal;
    font-weight: 400;
    line-height: 160%;
    margin-bottom: 6px;
  }
  #shopify-section-{{ section.id }} .m-collection-list-slider-wrap {
    margin-top: 0;
  }
  #shopify-section-{{ section.id }} .m-collection-list-item h4 {
    font-family: Montserrat;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 160%;
    margin-top: 7px;
  }
}

@media only screen and (max-width: 749px) {
    #shopify-section-{{ section.id }}.m-collection-list-section {
        padding: 20px 16px;
    }
    #shopify-section-{{ section.id }} .m-collection-list>h2 {
        font-size: 24px;
        margin-bottom: 6px;
    }
    #shopify-section-{{ section.id }} .m-collection-list>p {
        font-size: 14px;
    }
}

</style>

<script>
$(document).ready(function(){
  $('.m-collection-list-slider').slick({
    slidesToScroll: 1,
    variableWidth: true,
    infinite: true,
    arrows: true,
    dots: false,
    autoplay: true,
    autoplaySpeed: 3000,
    prevArrow: '.m-collection-list-slider-left',
    nextArrow: '.m-collection-list-slider-right'
  });
});
</script>

{% schema %}
{
  "name": "Custom collection list 2",
  "class": "m-collection-list-section",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "Content Settings"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Shop Our Category"
    },
    {
      "type": "header",
      "content": "Color Settings"
    },
    {
      "type": "color",
      "id": "back_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#151515"
    },
    {
      "type": "color",
      "id": "item_title_color",
      "label": "Collection item title color",
      "default": "#151515"
    }
  ],
  "blocks": [
    {
      "type": "collection",
      "name": "Collection",
      "settings": [
        {
          "type": "collection",
          "id": "collection",
          "label": "Choose Collection"
        },
        {
           "type": "image_picker",
           "id": "image",
           "label": "Image"
        },
        {
           "type": "text",
           "id": "title",
           "label": "Title"
        },
        {
           "type": "url",
           "id": "link",
           "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom collection list 2"
    }
  ]
}
{% endschema %}
